<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Baby</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Pinyon+Script&family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        /* --- CORE AESTHETICS --- */
        body { font-family: 'Quicksand', sans-serif; background: #0f172a; color: white; overflow: hidden; touch-action: none; }
        .script { font-family: 'Pinyon Script', cursive; }
        .serif { font-family: 'Cinzel', serif; }

        /* --- CINEMATIC INTRO --- */
        #intro-screen {
            position: fixed; inset: 0; background: #000; z-index: 100;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 1.5s ease-out;
        }
        .fade-up { animation: fadeUp 2s ease-out forwards; opacity: 0; transform: translateY(20px); }
        @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }

        /* --- DREAMY BACKGROUND --- */
        .dream-bg {
            position: fixed; inset: 0; z-index: -10;
            background: linear-gradient(to bottom, #2c3e50, #4ca1af); /* Fallback */
            background: radial-gradient(circle at 50% 0%, #ffafbd 0%, #ffc3a0 30%, #a1c4fd 70%, #1a1a2e 100%);
            background-size: 200% 200%;
            animation: skyShift 20s infinite alternate;
        }
        @keyframes skyShift { 0% { background-position: 50% 0%; } 100% { background-position: 50% 100%; } }

        /* --- FLOATING PARTICLES --- */
        .particle { position: absolute; background: white; border-radius: 50%; opacity: 0; animation: floatUp linear infinite; }
        @keyframes floatUp { 0% { transform: translateY(100vh) scale(0); opacity: 0; } 50% { opacity: 0.6; } 100% { transform: translateY(-10vh) scale(1.5); opacity: 0; } }

        /* --- MAGIC TOUCH TRAIL --- */
        .trail-dot {
            position: fixed; width: 8px; height: 8px; background: rgba(255, 255, 255, 0.8);
            border-radius: 50%; pointer-events: none; z-index: 50;
            box-shadow: 0 0 10px white, 0 0 20px #ffafbd;
            animation: fadeTrail 0.8s linear forwards;
        }
        @keyframes fadeTrail { to { opacity: 0; transform: scale(0); } }

        /* --- HOLOGRAPHIC CARD --- */
        .holo-card {
            transform-style: preserve-3d; transition: transform 0.1s ease-out;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }
        .shine {
            position: absolute; inset: 0; z-index: 20;
            background: linear-gradient(135deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 60%);
            opacity: 0; transition: opacity 0.3s; pointer-events: none;
        }

        /* --- LETTER MODAL --- */
        #letter-modal {
            position: fixed; inset: 0; z-index: 80; background: rgba(0,0,0,0.6); backdrop-filter: blur(5px);
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        #letter-content {
            background: #fffbf0; color: #333; width: 85%; max-width: 400px; padding: 2rem;
            border-radius: 4px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transform: translateY(50px) rotateX(10deg); transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background-image: linear-gradient(#e1e1e1 1px, transparent 1px); background-size: 100% 24px;
        }
        .visible-modal { opacity: 1 !important; pointer-events: auto !important; }
        .visible-content { transform: translateY(0) rotateX(0) !important; }
    </style>
</head>
<body>

    <div id="intro-screen">
        <p class="fade-up text-rose-300 tracking-[0.3em] text-xs uppercase mb-4">11 Months of Us</p>
        <h1 class="fade-up serif text-4xl text-white italic" style="animation-delay: 0.5s">Phoebbi Kate</h1>
        <p class="fade-up text-gray-400 text-[10px] mt-4" style="animation-delay: 1.5s">Tap to begin...</p>
    </div>

    <div class="dream-bg"></div>
    <div id="particles"></div>

    <main class="relative z-10 min-h-screen flex flex-col items-center justify-between py-8 px-6 opacity-0 transition-opacity duration-1000" id="main-content">
        
        <header class="w-full flex justify-between items-center">
            <div class="flex flex-col">
                <span class="text-[10px] uppercase tracking-widest text-white/70">Jan 03 ‚Ä¢ 2026</span>
                <span class="serif text-xl text-rose-200">For My Baby</span>
            </div>
            <button onclick="toggleMusic()" class="w-10 h-10 rounded-full border border-white/30 flex items-center justify-center backdrop-blur-md active:scale-90 transition">
                <span id="music-icon">üéµ</span>
            </button>
        </header>

        <div class="relative w-full max-w-[320px] aspect-[4/5] my-4 perspective-1000" id="card-container">
            <div id="card" class="holo-card w-full h-full relative rounded-2xl overflow-hidden border-[6px] border-white/90 bg-white">
                <img src="phoebbi.jpeg" alt="Baby" class="w-full h-full object-cover">
                <div class="shine" id="shine"></div>
                <div class="absolute bottom-0 left-0 w-full p-6 bg-gradient-to-t from-black/80 to-transparent">
                    <p class="script text-4xl text-rose-100">I love you</p>
                </div>
            </div>
        </div>

        <div class="h-10 text-center">
            <p id="typing-text" class="text-lg font-medium tracking-wide text-white drop-shadow-md"></p>
        </div>

        <div class="flex gap-4 w-full max-w-[340px] mt-4">
            <div class="flex-1 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-3 flex justify-between items-center px-4">
                <div class="text-center">
                    <span id="d" class="block text-xl font-bold">00</span><span class="text-[8px] uppercase opacity-70">Days</span>
                </div>
                <div class="h-6 w-[1px] bg-white/20"></div>
                <div class="text-center">
                    <span id="h" class="block text-xl font-bold">00</span><span class="text-[8px] uppercase opacity-70">Hrs</span>
                </div>
                <div class="text-center">
                    <span id="m" class="block text-xl font-bold">00</span><span class="text-[8px] uppercase opacity-70">Min</span>
                </div>
            </div>
            
            <button onclick="openLetter()" class="w-16 bg-rose-500 rounded-2xl flex items-center justify-center shadow-lg shadow-rose-500/40 active:scale-90 transition">
                üíå
            </button>
        </div>

        <div class="w-full max-w-[340px] mt-6 mb-2">
            <button id="magic-btn" class="group relative w-full h-14 rounded-full overflow-hidden bg-white/10 backdrop-blur-md border border-rose-300/50 shadow-[0_0_30px_rgba(255,255,255,0.2)]">
                <div id="fill" class="absolute inset-0 bg-gradient-to-r from-rose-400 to-pink-600 w-0 transition-all duration-75"></div>
                <span class="relative z-10 font-bold tracking-widest text-xs uppercase group-active:scale-95 transition-transform flex items-center justify-center gap-2 h-full">
                    Hold for Magic ‚ú®
                </span>
            </button>
        </div>
    </main>

    <div id="letter-modal" onclick="closeLetter()">
        <div id="letter-content" onclick="event.stopPropagation()">
            <h2 class="script text-4xl text-rose-800 mb-2">My Dearest Baby,</h2>
            <p class="text-sm leading-7 text-gray-700 font-medium">
                11 months ago, you walked into my life and changed everything. <br><br>
                Every smile you give me is my new favorite memory. I can't wait to celebrate our 1st year next month.
                <br><br>
                You are my forever.
            </p>
            <p class="text-right mt-6 script text-2xl text-rose-600">- Yours</p>
        </div>
    </div>

    <audio id="bg-music" loop src="song.mp3"></audio>

    <script>
        // --- 1. INTRO SEQUENCE ---
        const intro = document.getElementById('intro-screen');
        const main = document.getElementById('main-content');
        
        intro.addEventListener('click', () => {
            intro.style.opacity = '0';
            setTimeout(() => {
                intro.style.display = 'none';
                main.style.opacity = '1';
                typeWriter();
                // Try playing audio on first interaction
                document.getElementById('bg-music').play().catch(e => console.log("Audio needs manual toggle"));
            }, 1000);
        });

        // --- 2. MAGIC TOUCH TRAIL ---
        document.addEventListener('touchmove', (e) => {
            const touch = e.touches[0];
            createTrail(touch.clientX, touch.clientY);
        });
        document.addEventListener('mousemove', (e) => createTrail(e.clientX, e.clientY));

        function createTrail(x, y) {
            const dot = document.createElement('div');
            dot.className = 'trail-dot';
            dot.style.left = x + 'px';
            dot.style.top = y + 'px';
            document.body.appendChild(dot);
            setTimeout(() => dot.remove(), 800);
        }

        // --- 3. HOLOGRAPHIC CARD TILT ---
        const cardContainer = document.getElementById('card-container');
        const card = document.getElementById('card');
        const shine = document.getElementById('shine');

        cardContainer.addEventListener('touchmove', (e) => {
            const touch = e.touches[0];
            const w = window.innerWidth;
            const h = window.innerHeight;
            const xAxis = (w / 2 - touch.clientX) / 15;
            const yAxis = (h / 2 - touch.clientY) / 15;
            
            card.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
            shine.style.opacity = '1';
        });

        cardContainer.addEventListener('touchend', () => {
            card.style.transform = 'rotateY(0deg) rotateX(0deg)';
            shine.style.opacity = '0';
        });

        // --- 4. TYPING EFFECT ---
        const text = "Happy 11th Monthsary, Baby ‚ù§Ô∏è";
        const typeTarget = document.getElementById('typing-text');
        let i = 0;
        function typeWriter() {
            if (i < text.length) {
                typeTarget.innerHTML += text.charAt(i);
                i++;
                setTimeout(typeWriter, 100);
            }
        }

        // --- 5. LONG PRESS MAGIC ---
        const btn = document.getElementById('magic-btn');
        const fill = document.getElementById('fill');
        let timer, progress = 0;

        const start = (e) => {
            e.preventDefault();
            if(progress > 0) return;
            timer = setInterval(() => {
                progress += 2;
                fill.style.width = progress + '%';
                if(progress >= 100) {
                    clearInterval(timer);
                    fireworks();
                    progress = 0; fill.style.width = '0%';
                }
            }, 20);
        };
        const end = () => {
            clearInterval(timer);
            if(progress < 100) { progress = 0; fill.style.width = '0%'; }
        };

        btn.addEventListener('touchstart', start);
        btn.addEventListener('touchend', end);
        btn.addEventListener('mousedown', start);
        btn.addEventListener('mouseup', end);

        function fireworks() {
            const duration = 3000;
            const end = Date.now() + duration;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#ffc3a0', '#ffafbd']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#a1c4fd', '#c2e9fb']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());
        }

        // --- 6. PARTICLES BG ---
        const pContainer = document.getElementById('particles');
        for(let j=0; j<20; j++){
            let p = document.createElement('div');
            p.className = 'particle';
            p.style.left = Math.random()*100 + 'vw';
            p.style.width = p.style.height = Math.random()*4 + 2 + 'px';
            p.style.animationDuration = Math.random()*5 + 5 + 's';
            p.style.animationDelay = Math.random()*5 + 's';
            pContainer.appendChild(p);
        }

        // --- 7. COUNTDOWN ---
        const targetDate = new Date("Feb 3, 2026 00:00:00").getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const diff = targetDate - now;
            document.getElementById('d').innerText = String(Math.floor(diff / (1000 * 60 * 60 * 24))).padStart(2,'0');
            document.getElementById('h').innerText = String(Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2,'0');
            document.getElementById('m').innerText = String(Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))).padStart(2,'0');
        }, 1000);

        // --- 8. LETTER MODAL ---
        function openLetter() {
            const modal = document.getElementById('letter-modal');
            const content = document.getElementById('letter-content');
            modal.classList.add('visible-modal');
            setTimeout(() => content.classList.add('visible-content'), 10);
        }
        function closeLetter() {
            const modal = document.getElementById('letter-modal');
            const content = document.getElementById('letter-content');
            content.classList.remove('visible-content');
            setTimeout(() => modal.classList.remove('visible-modal'), 300);
        }

        function toggleMusic() {
            const m = document.getElementById('bg-music');
            if(m.paused) m.play(); else m.pause();
        }
    </script>
</body>
</html>

